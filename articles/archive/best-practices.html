<!DOCTYPE html>
<!--[if IE]><![endif]-->
<html>
  
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>UI test best practices | Legerity </title>
    <meta name="viewport" content="width=device-width">
    <meta name="title" content="UI test best practices | Legerity ">
    <meta name="generator" content="docfx 2.59.4.0">
    
    <link rel="shortcut icon" href="../../images/Logo.png">
    <link rel="stylesheet" href="../../styles/docfx.vendor.css">
    <link rel="stylesheet" href="../../styles/docfx.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap-grid.min.css" rel="stylesheet" crossorigin="anonymous">
    <link rel="stylesheet" href="https://pro.fontawesome.com/releases/v5.1.0/css/all.css" integrity="sha384-87DrmpqHRiY8hPLIr7ByqhPIywuSsjuQAfMXAE0sMUpY3BM7nXjf+mLIUSvhDArs" crossorigin="anonymous">
    <link rel="stylesheet" href="../../styles/main.css">
    <link href="https://fonts.googleapis.com/css?family=Roboto" rel="stylesheet">
    <meta property="docfx:navrel" content="../../toc.html">
    <meta property="docfx:tocrel" content="../toc.html">
    
    <meta property="docfx:rel" content="../../">
    <meta property="docfx:newtab" content="true">
  </head>  <body data-spy="scroll" data-target="#affix" data-offset="120">
    <div id="wrapper">
      <header>
        
        <nav id="autocollapse" class="navbar navbar-inverse ng-scope" role="navigation">
          <div class="container">
            <div class="navbar-header">
              <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>
              
              <a class="navbar-brand" href="../../index.html">
                <img id="logo" class="svg" src="../../images/Logo.png" alt="">
              </a>
            </div>
            <div class="collapse navbar-collapse" id="navbar">
              <form class="navbar-form navbar-right" role="search" id="search">
                <div class="form-group">
                  <input type="text" class="form-control" id="search-query" placeholder="Search" autocomplete="off">
                </div>
              </form>
            </div>
          </div>
        </nav>
        
        <div class="subnav navbar navbar-default">
          <div class="container hide-when-search" id="breadcrumb">
            <ul class="breadcrumb">
              <li></li>
            </ul>
          </div>
        </div>
      </header>
      <div class="container body-content">
        
        <div id="search-results">
          <div class="search-list">Search Results for <span></span></div>
          <div class="sr-items">
            <p><i class="glyphicon glyphicon-refresh index-loading"></i></p>
          </div>
          <ul id="pagination" data-first="First" data-prev="Previous" data-next="Next" data-last="Last"></ul>
        </div>
      </div>
      <div role="main" class="container body-content hide-when-search">
        
        <div class="sidenav hide-when-search">
          <a class="btn toc-toggle collapse" data-toggle="collapse" href="#sidetoggle" aria-expanded="false" aria-controls="sidetoggle">Show / Hide Table of Contents</a>
          <div class="sidetoggle collapse" id="sidetoggle">
            <div id="sidetoc"></div>
          </div>
        </div>
        <div class="article row grid-right">
          <div class="col-md-10">
            <article class="content wrap" id="_content" data-uid="best-practices">
<h1 id="ui-test-best-practices">UI test best practices</h1>

<h2 id="understanding-the-page-object-pattern">Understanding the page object pattern</h2>
<p>The goal of the page object pattern is to use page objects to extract page interactions from your tests. Ideally, they will store all your selectors to find UI elements and their interactions for a page.</p>
<h2 id="using-the-legerity-basepage">Using the Legerity BasePage</h2>
<p>As a part of the Core package, Legerity provides a <a href="https://github.com/MADE-Apps/legerity/blob/main/src/Legerity.Core/Pages/BasePage.cs"><code>BasePage</code></a> class which is a starting point for creating pages for your application.</p>
<p>Below is an example of a page object for the edit alarm page in the Windows Alarms &amp; Clock application.</p>
<pre><code class="lang-csharp">namespace WindowsAlarmsAndClock.Pages
{
    using System;

    using Legerity.Pages;
    using Legerity.Windows.Extensions;

    using OpenQA.Selenium;
    using OpenQA.Selenium.Appium.Windows;

    using WindowsAlarmsAndClock.Elements;

    public class EditAlarmPage : BasePage
    {
        private readonly By alarmTimePicker;

        private readonly By alarmNameTextBox;

        private readonly By alarmRepeatButton;

        private readonly By alarmSoundButton;

        private readonly By alarmSnoozeComboBox;

        private readonly By alarmSaveButton;

        private readonly By alarmCancelButton;

        private readonly By alarmDeleteButton;

        private readonly By alarmDeleteDialog;

        public EditAlarmPage()
        {
            this.alarmTimePicker = ByExtensions.AutomationId(&quot;AlarmTimePicker&quot;);
            this.alarmNameTextBox = ByExtensions.AutomationId(&quot;AlarmNameTextBox&quot;);
            this.alarmRepeatButton = ByExtensions.AutomationId(&quot;AlarmRepeatsToggleButton&quot;);
            this.alarmSoundButton = ByExtensions.AutomationId(&quot;AlarmSoundButton&quot;);
            this.alarmSnoozeComboBox = ByExtensions.AutomationId(&quot;AlarmSnoozeCombobox&quot;);
            this.alarmSaveButton = ByExtensions.AutomationId(&quot;AlarmSaveButton&quot;);
            this.alarmCancelButton = ByExtensions.AutomationId(&quot;CancelButton&quot;);
            this.alarmDeleteButton = ByExtensions.AutomationId(&quot;AlarmDeleteButton&quot;);
            this.alarmDeleteDialog = ByExtensions.AutomationId(&quot;DeleteConfirmationDialog&quot;);
        }

        protected override By Trait =&gt; ByExtensions.AutomationId(&quot;EditAlarmHeader&quot;);

        public EditAlarmPage SetAlarmTime(TimeSpan time)
        {
            CustomTimePicker customTimePicker = this.WindowsApp.FindElement(this.alarmTimePicker);
            customTimePicker.SetTime(time);
            return this;
        }

        public EditAlarmPage SetAlarmName(string name)
        {
            WindowsElement textBox = this.WindowsApp.FindElement(this.alarmNameTextBox);
            textBox.Click();
            textBox.SendKeys(name);
            return this;
        }

        public void SaveAlarm()
        {
            this.WindowsApp.FindElement(this.alarmSaveButton).Click();
        }

        public void DeleteAlarm()
        {
            this.WindowsApp.FindElement(this.alarmDeleteButton).Click();
            this.WindowsApp.FindElement(this.alarmDeleteDialog).FindElementByName(&quot;Delete&quot;).Click();
        }

        public void CancelEditAlarm()
        {
            this.WindowsApp.FindElement(this.alarmCancelButton).Click();
        }
    }
}
</code></pre>
<p>The page object contains the queries for all of the elements that can be interacted with, as well as common actions that can be performed on the page such as setting the name, alarm time, and the ability to save an alarm.</p>
<h3 id="configuring-a-common-page-trait">Configuring a common page trait</h3>
<p>Each page has a trait. This is a UI element that is always displayed on this page. This can often be a <strong>title</strong> element for the view or a specific menu item in a selected state.</p>
<p>The <code>Trait</code> is used when the page is constructed to ensure that the page is currently in view.</p>
<p>By default, there will be a 2-second wait for the element to appear before the test will fail.</p>
<h2 id="showcase-example-with-page-object-and-tests">Showcase example with page object and tests</h2>
<p>In the below example, a page is being defined for the XAML Controls Gallery app that showcases the functionality of a <code>ComboBox</code> control.</p>
<p>You'll notice in this example that there are multiple actions that this page can serve. Where actions can be chained, the instance of the page can be returned to produce a simple human-readable test.</p>
<h3 id="example-page-object-for-comboboxpage">Example page object for ComboBoxPage</h3>
<pre><code class="lang-csharp">namespace XamlControlsGallery.Pages.BasicInput
{
    using Legerity.Pages;
    using Legerity.Windows.Elements.Core;

    using Microsoft.VisualStudio.TestTools.UnitTesting;

    using OpenQA.Selenium;

    public class ComboBoxPage : BasePage
    {
        private readonly By colorComboBox = By.Name(&quot;Colors&quot;);

        public ComboBox ColorComboBox =&gt; this.WindowsApp.FindElement(this.colorComboBox);

        protected override By Trait =&gt; By.XPath(&quot;.//*[@Name='ComboBox'][@AutomationId='TitleTextBlock']&quot;);

        public ComboBoxPage SetColorsComboBoxItem(string expectedItem)
        {
            this.ColorComboBox.SelectItem(expectedItem);
            return this;
        }

        public void VerifyColorsComboBoxItem(string expectedItem)
        {
            Assert.AreEqual(expectedItem, this.ColorComboBox.SelectedItem);
        }
    }
}
</code></pre>
<h3 id="example-tests-for-comboboxpage">Example tests for ComboBoxPage</h3>
<pre><code class="lang-csharp">namespace XamlControlsGallery.Tests.BasicInput
{
    using Microsoft.VisualStudio.TestTools.UnitTesting;

    using XamlControlsGallery.Pages;
    using XamlControlsGallery.Pages.BasicInput;

    [TestClass]
    public class ComboBoxTests : BaseTestClass
    {
        private static ComboBoxPage ComboBoxPage { get; set; }

        [TestInitialize]
        public override void Initialize()
        {
            base.Initialize();
            ComboBoxPage = new NavigationMenu().GoToComboBox();
        }

        [TestMethod]
        public void SetColorsComboBoxToGreen()
        {
            var expectedItem = &quot;Green&quot;;

            ComboBoxPage.SetColorsComboBoxItem(expectedItem)
                .VerifyColorsComboBoxItem(expectedItem);
        }
    }
}
</code></pre>
</article>
          </div>
          
          <div class="hidden-sm col-md-2" role="complementary">
            <div class="sideaffix">
              <div class="contribution">
                <ul class="nav">
                  <li>
                    <a href="https://github.com/MADE-Apps/legerity/blob/main/docs/articles/archive/best-practices.md/#L1" class="contribution-link">Improve this Doc</a>
                  </li>
                </ul>
              </div>
              <nav class="bs-docs-sidebar hidden-print hidden-xs hidden-sm affix" id="affix">
                <h5>In This Article</h5>
                <div></div>
              </nav>
            </div>
          </div>
        </div>
      </div>
      
      <footer>
        <div class="grad-bottom"></div>
        <div class="footer">
          <div class="container">
            <span class="pull-right">
              <a href="#top">Back to top</a>
            </span>
            Copyright (c) MADE Apps
            
          </div>
        </div>
      </footer>
    </div>
    
    <script type="text/javascript" src="../../styles/docfx.vendor.js"></script>
    <script type="text/javascript" src="../../styles/docfx.js"></script>
    <script type="text/javascript" src="../../styles/main.js"></script>
  </body>
</html>
